<template>
  <article class="product-card" role="listitem" tabindex="0" aria-label={ariaLabel}>
    <div class="card-header">
      <div class="product-image-wrapper" aria-hidden={imageHidden}>
        <template if:true={productImage}>
          <img src={productImage} alt={product.name} loading="lazy" class="product-image" />
        </template>
        <template if:false={productImage}>
          <div class="image-placeholder"></div>
        </template>
      </div>

      <div class="product-meta">
        <h3 class="product-title" title={product.name}>{product.name}</h3>
        <p class="product-family">{product.family}</p>
      </div>
    </div>

    <div class="card-body">
      <p class="product-desc" title={product.description}>{product.description}</p>
    </div>

    <div class="card-footer">
      <div class="price-block">
        <div class="price" aria-label="Price">
          <template if:true={product.price}>
            {formattedPrice}
          </template>
          <template if:false={product.price}>
            <span class="oos">Out Of Stock</span>
          </template>
        </div>
        <div class="sku" title={product.sku}>SKU: {product.sku}</div>
      </div>

      <div class="action-block">
        <lightning-button class="btn-view" variant="neutral" label="View" onclick={onView}></lightning-button>
        <lightning-button class="btn-add" variant="brand" label="Add" onclick={onAdd}></lightning-button>
      </div>
    </div>
  </article>
</template>
