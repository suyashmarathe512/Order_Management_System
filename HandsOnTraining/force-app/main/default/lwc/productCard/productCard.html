<template>
  <article class="slds-card product-card" role="listitem" tabindex="0" aria-label={ariaLabel}>
    <!-- Header: image + title -->
    <div class="card-header">
      <div class="product-image-wrapper">
        <template if:true={productImage}>
          <img src={productImage} alt={product.name} loading="lazy" class="product-image" />
        </template>
        <template if:false={productImage}>
          <div class="image-placeholder" aria-hidden="true"></div>
        </template>
      </div>

      <div class="product-meta">
        <h3 class="product-title" title={product.name}>{product.name}</h3>
        <p class="product-family">{product.family}</p>
      </div>
    </div>

    <!-- Body: description -->
    <div class="card-body">
      <p class="product-desc" title={product.description}>{product.description}</p>
    </div>

    <!-- Footer: price, sku, actions -->
    <div class="card-footer">
      <div class="price-block">
        <div class="price" aria-label="Price">{formattedPrice}</div>
        <div class="sku">SKU: {product.sku}</div>
      </div>

      <div class="action-block">
        <lightning-button variant="neutral" label="View" title="View" onclick={onView} class="btn-view"></lightning-button>
        <lightning-button variant="brand" label="Add" title="Add to Cart" onclick={onAdd} class="btn-add"></lightning-button>
      </div>
    </div>
  </article>
</template>
